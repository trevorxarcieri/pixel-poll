repos:
  # ---------------- RP2040 / “central” -----------------
  - repo: local
    hooks:
      - id: black-rp2
        name: black (rp2)
        entry: ./venvs/rp2/bin/black
        language: system
        types: [python]
        files: ^(src/common|src/central|tests/rp2)/
      - id: ruff-rp2
        name: ruff (rp2)
        entry: ./venvs/rp2/bin/ruff
        language: system
        types: [python]
        args: ["check"]
        files: ^(src/common|src/central|tests/rp2)/
      - id: pylint-rp2
        name: pylint (rp2)
        entry: ./venvs/rp2/bin/pylint
        language: system
        types: [python]
        args: ["--prefer-stubs=y"]
        files: ^(src/common|src/central|tests/rp2)/

  # ---------------- ESP32-C3 / “controller” ------------
  - repo: local
    hooks:
      - id: black-esp32
        name: black (esp32)
        entry: ./venvs/esp32/bin/black
        language: system
        types: [python]
        files: ^(src/common|src/controller|tests/esp32)/
      - id: ruff-esp32
        name: ruff (esp32)
        entry: ./venvs/esp32/bin/ruff
        language: system
        types: [python]
        args: ["check"]
        files: ^(src/common|src/controller|tests/esp32)/
      - id: pylint-esp32
        name: pylint (esp32)
        entry: ./venvs/esp32/bin/pylint
        language: system
        types: [python]
        args: ["--prefer-stubs=y"]
        files: ^(src/common|src/controller|tests/esp32)/
